- string twitterUrl2 = Url.Action("RsvpTwitterBegin", "RSVP", new { id = Model.DinnerID });
- string googleUrl2 = Url.Action("RsvpBegin", "RSVP", new { id = Model.DinnerID, identifier = "https://www.google.com/accounts/o8/id" });
- string yahooUrl2 = Url.Action("RsvpBegin", "RSVP", new { id = Model.DinnerID, identifier = "https://me.yahoo.com/" });

%script { src=Url.Content("~/Scripts/MicrosoftAjax.js") type="text/javascript" }
%script { src=Url.Content("~/Scripts/MicrosoftMvcAjax.js") type="text/javascript" }
%script { type="text/javascript" }
	function AnimateRSVPMessage() {
	$("#rsvpmsg").animate({ fontSize: "1.5em" }, 400);
	}
%div#rsvpmsg
	- if (HttpContext.Current.Request.IsAuthenticated)
		- if (Model.IsHostedBy(HttpContext.Current.User.Identity.Name))
			%p You are the host for this event!
		- else if (Model.IsUserRegistered(HttpContext.Current.User.Identity.Name))
			%p You are registered for this event!
		- else 
			!=Ajax.ActionLink("RSVP for this event", "Register", "RSVP", new { id = Model.DinnerID }, new AjaxOptions { UpdateTargetId = "rsvpmsg", OnSuccess = "AnimateRSVPMessage" })
	- else 
		%strong RSVP for this event:
		%a { href=twitterUrl2 }
			%img { alt="Twitter" src="/Content/Img/icon-twitter.png" border="0" } /
		%a { href=googleUrl2 }
			%img { alt="Google" src="/Content/Img/icon-google.png" border="0" } /
		%a { href=yahooUrl2 }
			%img { alt="Yahoo!" src="/Content/Img/icon-yahoo.png" border="0" } /
